{
    "i18n": true,
    "type": "tabs",
    "items": {
        "_options": {
            "type": "panel",
            "label": "Options",
            "items": {
                "awtrixIp": {
                    "type": "text",
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "label": "IP",
                    "help": "IP address of your Awtrix Light device",
                    "validator": "String(data.awtrixIp).length > 0 && !String(data.awtrixIp).startsWith('http')",
                    "validatorErrorText": "Invalid IP address",
                    "validatorNoSaveOnError": true
                },
                "_ioBrokerKursBanner": {
                    "newLine": true,
                    "type": "staticImage",
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "href": "https://haus-automatisierung.com/iobroker-kurs/?refid=iobroker-awtrix-light",
                    "src": "https://haus-automatisierung.com/images/ads/ioBroker-Kurs.png"
                }
            }
        },
        "_customApps": {
            "type": "panel",
            "label": "Apps",
            "items": {
                "_headerCustomApps": {
                    "newLine": true,
                    "type": "header",
                    "text": "Custom Apps",
                    "size": 2,
                    "sm": 12,
                    "md": 12,
                    "lg": 12
                },
                "customApps": {
                    "newLine": true,
                    "type": "accordion",
                    "titleAttr": "name",
                    "sm": 12,
                    "md": 12,
                    "lg": 12,
                    "items": [
                        {
                            "type": "text",
                            "attr": "name",
                            "label": "Name",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "custom",
                            "help": "Just lower case letters (a-z)",
                            "validator": "/^([a-z]{1,})$/.test(data.name) && !['time', 'eyes', 'date', 'temp', 'hum', 'bat'].includes(data.name) && [...globalData.customApps, ...globalData.historyApps].filter(app => app.name === data.name).length === 1",
                            "validatorErrorText": "Just lower case letters (a-z)",
                            "validatorNoSaveOnError": true
                        },
                        {
                            "type": "text",
                            "attr": "icon",
                            "label": "Icon",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "",
                            "help": "Must be uploaded manually",
                            "helpLink": "https://blueforcer.github.io/awtrix-light/#/icons"
                        },
                        {
                            "type": "number",
                            "attr": "duration",
                            "label": "Duration (sec)",
                            "sm": 12,
                            "md": 2,
                            "lg": 2,
                            "default": 5,
                            "min": 1
                        },
                        {
                            "type": "number",
                            "attr": "repeat",
                            "label": "Repetitions",
                            "sm": 12,
                            "md": 2,
                            "lg": 2,
                            "default": 1,
                            "min": 1
                        },
                        {
                            "type": "text",
                            "attr": "text",
                            "label": "Text",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "%s %u",
                            "help": "%s will be replaced by value and %u by unit",
                            "validator": "data.objId.length == 0 || data.text.includes('%s')",
                            "validatorErrorText": "Remove object or add %s (and %u) to text",
                            "validatorNoSaveOnError": true
                        },
                        {
                            "type": "objectId",
                            "attr": "objId",
                            "label": "Object",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "",
                            "help": "Should be type of string or number",
                            "validator": "!data.text.includes('%s') || data.objId.length > 0",
                            "validatorErrorText": "Select object or remove %s and %u from text",
                            "validatorNoSaveOnError": true
                        },
                        {
                            "type": "number",
                            "attr": "decimals",
                            "label": "Decimals",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": 3,
                            "help": "Numeric values will be rounded"
                        },
                        {
                            "newLine": true,
                            "type": "divider",
                            "sm": 12,
                            "md": 12,
                            "lg": 12
                        },
                        {
                            "newLine": true,
                            "type": "checkbox",
                            "attr": "rainbow",
                            "label": "Text in rainbow colors",
                            "sm": 12,
                            "md": 4,
                            "lg": 4
                        },
                        {
                            "hidden": "!!data.rainbow",
                            "type": "color",
                            "attr": "textColor",
                            "label": "Text color",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "#FFFFFF"
                        },
                        {
                            "newLine": true,
                            "type": "checkbox",
                            "attr": "noScroll",
                            "label": "Disable text scrolling",
                            "sm": 12,
                            "md": 4,
                            "lg": 4
                        },
                        {
                            "hidden": "!!data.noScroll",
                            "type": "number",
                            "attr": "scrollSpeed",
                            "label": "Scroll speed",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": 100,
                            "min": 1,
                            "max": 100
                        }
                    ]
                },
                "ignoreNewValueForAppInTimeRange": {
                    "newLine": true,
                    "type": "number",
                    "min": 0,
                    "sm": 12,
                    "md": 4,
                    "lg": 4,
                    "label": "Ignore new values after state change (in seconds)",
                    "help": "Prevents too many requests for rapid state changes"
                },
                "_headerHistoryApps": {
                    "newLine": true,
                    "type": "header",
                    "text": "History Apps",
                    "size": 2,
                    "sm": 12,
                    "md": 12,
                    "lg": 12
                },
                "historyApps": {
                    "newLine": true,
                    "type": "accordion",
                    "titleAttr": "name",
                    "sm": 12,
                    "md": 12,
                    "lg": 12,
                    "items": [
                        {
                            "type": "text",
                            "attr": "name",
                            "label": "Name",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "history",
                            "help": "Just lower case letters (a-z)",
                            "validator": "/^([a-z]{1,})$/.test(data.name) && !['time', 'eyes', 'date', 'temp', 'hum', 'bat'].includes(data.name) && [...globalData.customApps, ...globalData.historyApps].filter(app => app.name === data.name).length === 1",
                            "validatorErrorText": "Just lower case letters (a-z)",
                            "validatorNoSaveOnError": true
                        },
                        {
                            "type": "text",
                            "attr": "icon",
                            "label": "Icon",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "",
                            "help": "Must be uploaded manually",
                            "helpLink": "https://blueforcer.github.io/awtrix-light/#/icons"
                        },
                        {
                            "type": "number",
                            "attr": "duration",
                            "label": "Duration (sec)",
                            "sm": 12,
                            "md": 2,
                            "lg": 2,
                            "default": 5,
                            "min": 1
                        },
                        {
                            "type": "number",
                            "attr": "repeat",
                            "label": "Repetitions",
                            "sm": 12,
                            "md": 2,
                            "lg": 2,
                            "default": 1,
                            "min": 1
                        },
                        {
                            "newLine": true,
                            "type": "text",
                            "attr": "sourceInstance",
                            "label": "Source instance",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "history.0",
                            "validator": "/^([a-z-_]{1,}\\.[0-9]{1,})$/.test(data.sourceInstance)",
                            "validatorErrorText": "Define a valid source for history data",
                            "validatorNoSaveOnError": true
                        },
                        {
                            "type": "objectId",
                            "attr": "objId",
                            "label": "Object",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "",
                            "help": "Logging must be enabled for the selected ID",
                            "validator": "data.objId.length > 0",
                            "validatorErrorText": "Select data source",
                            "validatorNoSaveOnError": true
                        },
                        {
                            "type": "color",
                            "attr": "lineColor",
                            "label": "Color",
                            "sm": 12,
                            "md": 4,
                            "lg": 4,
                            "default": "#FF0000",
                            "help": "Line color of chart"
                        }
                    ]
                },
                "historyAppsBackgroundColor": {
                    "newLine": true,
                    "type": "color",
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "label": "Background color"
                },
                "historyAppsRefreshInterval": {
                    "type": "number",
                    "min": 60,
                    "max": 86400,
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "label": "Refresh interval (in seconds)"
                },
                "_dividerBottom": {
                    "newLine": true,
                    "type": "divider",
                    "sm": 12,
                    "md": 12,
                    "lg": 12
                },
                "autoDeleteForeignApps": {
                    "newLine": true,
                    "type": "checkbox",
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "label": "Automatically delete unknown apps"
                }
            }
        },
        "_expertOptions": {
            "type": "panel",
            "label": "Expert options",
            "items": {
                "httpTimeout": {
                    "type": "number",
                    "min": 1,
                    "max": 10,
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "label": "HTTP timeout"
                }
            }
        }
    }
}